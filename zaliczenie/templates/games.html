{% extends "base.html" %}
{% load static %}

{% block title %}Wszystkie gry – PoGRAMY{% endblock %}
{% block extra_css %}<link rel="stylesheet" href="{% static 'css/style2.css' %}">{% endblock %}

{% block content %}

<div class="five_games">
    <div class="head_game_page">
    <h2>{% if coming_soon %}Nadchodzące gry:{% elif genre %}Wszystkie gry z gatunku {{genre.name}}:{% elif producer %}Wszystkie gry firmy {{ producer.name }}:{% else %}Wszystkie gry{% if slug == 'pc' %} komputerowe{% elif slug == 'playstation' %} na PlayStation{% elif slug == 'xbox' %} na Xboxa{% elif slug == 'nintendo-switch' %} na Nintendo Switch{% endif %}:{% endif %}</h2>
        <div class="sort">
            <label for="sorted">Sortuj:</label>
                <select id="sorted" name="sorted">
                    <option value="name_up" {% if sorted == 'name_up' %}selected{% endif %}>Tytuł: od A do Z</option>
                    <option value="name_down" {% if sorted == 'name_down' %}selected{% endif %}>Tytuł: od Z do A</option>
                    <option value="price_up" {% if sorted == 'price_up' %}selected{% endif %}>Cena: rosnąco</option>
                    <option value="price_down" {% if sorted == 'price_down' %}selected{% endif %}>Cena: malejąco</option>
                    <option value="year_of_premiere_up" {% if sorted == 'year_of_premiere_up' %}selected{% endif %}>Rok premiery: rosnąco</option>
                    <option value="year_of_premiere_down" {% if sorted == 'year_of_premiere_down' %}selected{% endif %}>Rok premiery: malejąco</option>
                </select>
        </div>
    </div>
    <ul>
        {% for game in games %}
            <li>
                {% if game.image %}
                    <a href="{% url 'game_page' slug=game.slug %}"><img src="{{ game.image.url }}" alt="{{ game.name }}"></a>
                {% else %}
                    <a href="{% url 'game_page' slug=game.slug %}"><img src="{% static 'images/placeholder.png' %}" alt="Brak okładki" width="200"></a>
                {% endif %}
                {% if game.promotion == True %}
                    <span class="promotion" style="font-size: 20px">PROMOCJA</span>
                {% elif not game.is_published == True %}
                    <span class="coming" style="font-size: 20px">ZAPOWIEDŹ</span>
                {% endif %}
                {% if game.promotion == True %}
                    <div><span style="font-size: 25px">{{ game.promo_price }} zł</span></div>
                {% else %}
                    <div><span style="font-size: 25px">{{ game.price }} zł</span></div>
                {% endif %}
                    <div><strong><a href="{% url 'game_page' slug=game.slug %}">{{ game.name }}</a></strong></div>
                    <div><button class="add-to-cart-btn five_games_basket" data-product-id="{{ game.id }}" data-quantity="1" type="button">Dodaj do koszyka</button></div>
            </li>
        {% empty %}
            <li>Brak gier</li>
        {% endfor %}
    </ul>
</div>
{% endblock %}
